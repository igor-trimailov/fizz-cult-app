{"version":3,"sources":["serviceWorker.js","actions/types.js","actions/creators.js","constants/index.js","configuration/index.js","actions/api.js","middleware/index.js","reducers/account.js","reducers/user.js","reducers/index.js","store/index.js","utils/index.js","i18next.js","hooks/useInterval.js","hooks/useSpeech.js","components/exercise/ExerciseControls.jsx","components/exercise/ExerciseListItem.jsx","components/exercise/ExerciseList.jsx","components/common/LocaleSwitcher.jsx","components/common/Authenticated.jsx","components/common/Header.jsx","components/common/Jumbotron.jsx","components/common/Footer.jsx","components/common/ScrollToTop.jsx","components/common/Loader.jsx","components/Exercises.jsx","components/routine/Routine.jsx","components/Routines.jsx","containers/Exercise.jsx","components/exercise/Exercise.jsx","containers/Exercises.jsx","containers/Routines.jsx","containers/Header.jsx","components/account/Login.jsx","components/account/Register.jsx","components/account/Reset.jsx","components/account/LoginForm.jsx","containers/account/LoginForm.jsx","components/common/Modal.jsx","containers/Modal.jsx","components/exercise/ExerciseFinished.jsx","index.js"],"names":["Boolean","window","location","hostname","match","ActionTypes","REQUEST_EXERCISES","RECEIVE_EXERCISES_SUCCESS","RECEIVE_EXERCISES_ERROR","ORDER_EXERCISES","SET_EXERCISE_DURATION","FINISH_EXERCISE","REQUEST_ROUTINES","RECEIVE_ROUTINES_SUCCESS","RECEIVE_ROUTINES_ERROR","ORDER_ROUTINES","START_EXERCISE","STOP_EXERCISE","API_ERROR","ACCOUNT_RECEIVE_API_ERROR","ACCOUNT_LOGOUT","ACCOUNT_OPEN_LOGIN_FORM","ACCOUNT_OPEN_REGISTER_FORM","ACCOUNT_OPEN_RESET_FORM","ACCOUNT_REQUEST_LOGIN","ACCOUNT_RECEIVE_LOGIN_SUCCESS","ACCOUNT_REQUEST_REGISTER","ACCOUNT_RECEIVE_REGISTER_SUCCESS","ACCOUNT_REQUEST_PASSWORD_RESET","ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS","requestRoutines","type","receiveRoutinesSuccess","data","payload","receiveRoutinesError","error","orderRoutines","orderExercises","startExercise","exercise","setExerciseDuration","finishExercise","apiError","accountOpenLoginForm","accountRequestLogin","formData","accountLoginSuccess","accountLogout","accountOpenRegisterForm","accountRequestRegister","accountRegisterSuccess","accountOpenPasswordResetForm","accountRequestPasswordReset","accountPasswordResetSuccess","accountApiError","ModalSubroute","API_BASE_URL","defaultLocale","locales","en_GB","locale","name","voice","voiceLanguage","ru_RU","breakExercise","id","image","image_alt","sound","duration","requestRoutinesData","dispatch","a","creators","fetch","process","then","res","json","console","log","catch","e","warn","restApiCall","url","options","config","method","headers","Accept","timeout","response","status","success","Promise","reject","message","err","register","body","URLSearchParams","authenticate","passwordReset","store","next","action","accountDefaultState","openLogin","openRegister","openReset","isLoading","notification","account","state","defaultUserState","user","defaultExerciseState","previous","current","combineReducers","exercises","routines","reduce","acc","routine","routineId","length","exerciseId","map","omit","persistConfig","key","whitelist","storage","persistedReducer","persistReducer","rootReducer","getAudioManager","AudioManager","Audio","playSound","callback","numTimes","audio","src","handler","removeEventListener","addEventListener","play","handleDragEnd","result","list","destination","index","source","orderedList","startIndex","endIndex","Array","from","splice","removed","reorder","getLocale","storedLocale","localStorage","getItem","i18n","use","Backend","initReactI18next","init","lng","fallbackLng","debug","backend","loadPath","interpolation","escapeValue","useInterval","delay","savedCallback","useRef","useEffect","setInterval","clearInterval","useSpeech","text","onStart","onEnd","useState","voicesLoaded","setVoicesLoaded","savedStartCallback","savedEndCallback","synth","speechSynthesis","voices","getVoices","handleVoiceChange","loaded","utter","SpeechSynthesisUtterance","lang","preferredVoice","find","replace","getLocaleVoice","onstart","onend","speak","cancel","React","memo","props","playCallback","nextCallback","previousCallback","disabled","controlsClassName","classNames","playClassName","className","onClick","ExerciseListItem","actions","useTranslation","t","selectedLanguage","language","draggableId","toString","provided","ListGroupItem","ref","innerRef","draggableProps","dragHandleProps","DropdownButton","as","ButtonGroup","drop","variant","title","onSelect","Dropdown","Item","eventKey","ExerciseList","onExerciseClick","setExercisesCallback","useCallback","onDragEnd","droppableId","ListGroup","droppableProps","selectExercise","placeholder","LocaleSwitcher","availableLanguages","languages","changeLanguage","newLocale","setItem","OverlayTrigger","placement","trigger","rootClose","overlay","Popover","Content","document","click","alt","Authenticated","isAuthenticated","setIsAuthenticated","setIsLoading","useSelector","unauthenticated","isEmpty","Fragment","children","useLocation","handleLogout","handleOpenLogin","CustomToggle","forwardRef","preventDefault","HomeLink","to","AboutLink","LoginLink","pathname","background","Toggle","Menu","Jumbotron","heading","Image","fluid","Footer","ScrollToTop","scrollTo","Loader","Exercises","history","useHistory","Button","push","Routine","selectRoutine","onSelectRoutine","description","Routines","setRoutinesCallback","onRoutineClick","getNextExercise","exerciseList","findIndex","item","previousExerciseIndex","connect","ownProps","get","previousExercise","nextExercise","bindActionCreators","ExerciseListActions","seconds","setSeconds","setPlay","soundPlaying","setSoundPlaying","exerciseName","setTimeout","goBack","value","minValue","maxValue","styles","buildStyles","strokeLinecap","textSize","pathTransitionDuration","pathColor","textColor","trailColor","backgroundColor","ExercisesActions","RoutineActions","HeaderActions","Header","Login","onSubmit","event","target","checkValidity","FormData","htmlFor","required","Register","Tooltip","pattern","Reset","LoginForm","closeModalCallback","closeModal","LoginActions","Modal","subroute","ReactDOM","createPortal","stopPropagation","querySelector","ModalActions","ExerciseFinished","initialState","middlewares","middleware","thunkMiddleware","middlewareEnhancer","applyMiddleware","composedEnhancers","composeWithDevTools","createStore","persistor","persistStore","configureStore","RouterSwitch","exact","path","component","Exercise","render","loading","onUpdate","fallback","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.83ce9858.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const ActionTypes = {\n  REQUEST_EXERCISES: 'REQUEST_EXERCISES',\n  RECEIVE_EXERCISES_SUCCESS: 'RECEIVE_EXERCISES_SUCCESS',\n  RECEIVE_EXERCISES_ERROR: 'RECEIVE_EXERCISES_ERROR',\n  ORDER_EXERCISES: 'ORDER_EXERCISES',\n  SET_EXERCISE_DURATION: 'SET_EXERCISE_DURATION',\n  FINISH_EXERCISE: 'FINISH_EXERCISE',\n\n  REQUEST_ROUTINES: 'REQUEST_ROUTINES',\n  RECEIVE_ROUTINES_SUCCESS: 'RECEIVE_ROUTINES_SUCCESS',\n  RECEIVE_ROUTINES_ERROR: 'RECEIVE_ROUTINES_ERROR',\n  ORDER_ROUTINES: 'ORDER_ROUTINES',\n\n  START_EXERCISE: 'START_EXERCISE',\n  STOP_EXERCISE: 'STOP_EXERCISE',\n\n  API_ERROR: 'API_ERROR',\n\n  // TODO: write a separate account widget\n  ACCOUNT_RECEIVE_API_ERROR: 'ACCOUNT_RECEIVE_API_ERROR',\n  ACCOUNT_LOGOUT: 'ACCOUNT_LOGOUT',\n  ACCOUNT_OPEN_LOGIN_FORM: 'ACCOUNT_OPEN_LOGIN_FORM',\n  ACCOUNT_OPEN_REGISTER_FORM: 'ACCOUNT_OPEN_REGISTER_FORM',\n  ACCOUNT_OPEN_RESET_FORM: 'ACCOUNT_OPEN_RESET_FORM',\n  ACCOUNT_REQUEST_LOGIN: 'ACCOUNT_REQUEST_LOGIN',\n  ACCOUNT_RECEIVE_LOGIN_SUCCESS: 'ACCOUNT_RECEIVE_LOGIN_SUCCESS',\n  ACCOUNT_REQUEST_REGISTER: 'ACCOUNT_REQUEST_REGISTER',\n  ACCOUNT_RECEIVE_REGISTER_SUCCESS: 'ACCOUNT_RECEIVE_REGISTER_SUCCESS',\n  ACCOUNT_REQUEST_PASSWORD_RESET: 'ACCOUNT_REQUEST_PASSWORD_RESET',\n  ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS: 'ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS',\n}\n","import { ActionTypes } from './types'\n\nexport function requestRoutines() {\n  return {\n    type: ActionTypes.REQUEST_ROUTINES,\n  }\n}\n\nexport function receiveRoutinesSuccess(data) {\n  return {\n    type: ActionTypes.RECEIVE_ROUTINES_SUCCESS,\n    payload: data,\n  }\n}\n\nexport function receiveRoutinesError(error) {\n  return {\n    type: ActionTypes.RECEIVE_ROUTINES_ERROR,\n    payload: error,\n  }\n}\n\nexport function orderRoutines(data) {\n  return {\n    type: ActionTypes.ORDER_ROUTINES,\n    payload: data,\n  }\n}\n\nexport function orderExercises(data) {\n  return {\n    type: ActionTypes.ORDER_EXERCISES,\n    payload: data,\n  }\n}\n\nexport function startExercise(exercise) {\n  return {\n    type: ActionTypes.START_EXERCISE,\n    payload: exercise,\n  }\n}\n\nexport function setExerciseDuration(data) {\n  return {\n    type: ActionTypes.SET_EXERCISE_DURATION,\n    payload: data,\n  }\n}\n\nexport function finishExercise() {\n  return {\n    type: ActionTypes.FINISH_EXERCISE,\n  }\n}\n\nexport function apiError(error) {\n  return {\n    type: ActionTypes.API_ERROR,\n    payload: error,\n  }\n}\n\nexport function accountOpenLoginForm() {\n  return {\n    type: ActionTypes.ACCOUNT_OPEN_LOGIN_FORM,\n  }\n}\n\nexport function accountRequestLogin(formData) {\n  return {\n    type: ActionTypes.ACCOUNT_REQUEST_LOGIN,\n    payload: formData,\n  }\n}\n\nexport function accountLoginSuccess(data) {\n  return {\n    type: ActionTypes.ACCOUNT_RECEIVE_LOGIN_SUCCESS,\n    payload: data,\n  }\n}\n\nexport function accountLogout() {\n  return {\n    type: ActionTypes.ACCOUNT_LOGOUT,\n  }\n}\n\nexport function accountOpenRegisterForm() {\n  return {\n    type: ActionTypes.ACCOUNT_OPEN_REGISTER_FORM,\n  }\n}\n\nexport function accountRequestRegister(data) {\n  return {\n    type: ActionTypes.ACCOUNT_REQUEST_REGISTER,\n    payload: data,\n  }\n}\n\nexport function accountRegisterSuccess(data) {\n  return {\n    type: ActionTypes.ACCOUNT_RECEIVE_REGISTER_SUCCESS,\n    payload: data,\n  }\n}\n\nexport function accountOpenPasswordResetForm() {\n  return {\n    type: ActionTypes.ACCOUNT_OPEN_RESET_FORM,\n  }\n}\n\nexport function accountRequestPasswordReset(data) {\n  return {\n    type: ActionTypes.ACCOUNT_REQUEST_PASSWORD_RESET,\n    payload: data,\n  }\n}\n\nexport function accountPasswordResetSuccess(data) {\n  return {\n    type: ActionTypes.ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS,\n    payload: data,\n  }\n}\n\nexport function accountApiError(error) {\n  return {\n    type: ActionTypes.ACCOUNT_RECEIVE_API_ERROR,\n    payload: error,\n  }\n}","export const BREAK_DURATION = 5\nexport const BREAK_EXERCISE = 'BREAK_EXERCISE'\n\nexport const ModalSubroute = {\n  LOGIN: 'login',\n}\n","import { BREAK_EXERCISE } from '../constants'\n\nexport default {\n  API_BASE_URL: 'http://localhost:5000/api/v1',\n  defaultLocale: 'en_GB',\n  locales: {\n    en_GB: {\n      locale: 'en_GB',\n      name: 'English',\n      voice: 'Google UK English Female',\n      voiceLanguage: 'en-GB',\n    },\n    ru_RU: {\n      locale: 'ru_RU',\n      name: 'Русский',\n      voice: 'Google русский',\n      voiceLanguage: 'ru-RU',\n    },\n  },\n  breakExercise: {\n    id: -1,\n    name: {\n      en_GB: 'Break-time!',\n      ru_RU: 'Перерыв!',\n    },\n    image: 'break.png',\n    image_alt: 'Take a Break!',\n    sound: 'break.mp3',\n    duration: 5,\n    type: BREAK_EXERCISE,\n  },\n}\n","import * as creators from './creators'\nimport config from '../configuration'\n\n// TODO: load routines from an api call\nexport const requestRoutinesData = () => async (dispatch) => {\n  dispatch(creators.requestRoutines())\n  await fetch(process.env.PUBLIC_URL + '/data.json')\n    .then((res) => res.json())\n    .then((data) => {\n      console.log('fetced data', data)\n      dispatch(creators.receiveRoutinesSuccess(data))\n    })\n    .catch((e) => {\n      console.warn('data fetch error', e)\n      dispatch(creators.receiveRoutinesError('Could not fetch data'))\n    })\n}\n\n// TODO: handle 401 and 403\n\n/**\n * Abstraction of restful api call. The default method is GET, that can be overriden by\n * passing different method in the options\n * Body is expected to be a FormData object, might need to revise this for getters\n * @param {String} url - full url to the api endpoint\n * @param {Object} options - optional options object, use to supply body and/or switch method\n */\nexport function restApiCall(url, options = {}) {\n  return fetch(config.API_BASE_URL + url, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    timeout: 20000,\n    ...options,\n  })\n    .then(\n      (response) => {\n        // success and validation fail responses will return a human readable message\n        // TODO: translate the message\n        if (response.status === 200 || response.status === 422 || response.status === 401) {\n          return response.json().then((data) => {\n            // api will return status of 'success' on good calls, oterwise it's an error\n            if (!data.success) {\n              return Promise.reject({\n                error: data.message,\n              })\n            }\n            return data\n          })\n        }\n\n        // TODO:\n        // handle additional reposnses\n        // 401 - unauthorised, show error\n        // 403 - expired token, this one needs to ask for a new token and repeat the original request\n\n        // resolce as error for all other status codes\n        return Promise.reject({\n          error: 'Unhandled server error: ' + response.status,\n        })\n      },\n      () => {\n        // resolve as error\n        return Promise.reject({ error: 'Unknown server error' })\n      }\n    )\n    .then((json) => {\n      return {\n        success: true,\n        data: json,\n      }\n    })\n    .catch((err) => {\n      return {\n        success: false,\n        error: err,\n      }\n    })\n}\n\n/**\n * Register new user\n * @param {*} dispatch\n * @param {*} data\n */\nexport async function register(dispatch, data) {\n  const url = '/users/register/'\n  const options = {\n    method: 'POST',\n    body: new URLSearchParams(data),\n  }\n\n  try {\n    const response = await restApiCall(url, options)\n\n    if (response.success) {\n      dispatch(creators.accountRegisterSuccess())\n    } else {\n      dispatch(creators.accountApiError(response.error))\n    }\n  } catch (error) {\n    dispatch(creators.accountApiError(error))\n  }\n}\n\n/**\n * Authenticate existing user\n * @param {*} dispatch\n * @param {*} data\n */\nexport async function authenticate(dispatch, data) {\n  const url = '/users/authenticate/'\n  const options = {\n    method: 'POST',\n    body: new URLSearchParams(data),\n  }\n\n  try {\n    const response = await restApiCall(url, options)\n\n    if (response.success) {\n      dispatch(creators.accountLoginSuccess(response.data))\n    } else {\n      dispatch(creators.accountApiError(response.error))\n    }\n  } catch (error) {\n    dispatch(creators.accountApiError(error))\n  }\n}\n\n/**\n * Authenticate existing user\n * @param {*} dispatch\n * @param {*} data\n */\nexport async function passwordReset(dispatch, data) {\n  const url = '/users/recover/'\n  const options = {\n    method: 'POST',\n    body: new URLSearchParams(data),\n  }\n\n  try {\n    const response = await restApiCall(url, options)\n\n    if (response.success) {\n      dispatch(creators.accountPasswordResetSuccess(response.data))\n    } else {\n      dispatch(creators.accountApiError(response.error))\n    }\n  } catch (error) {\n    dispatch(creators.accountApiError(error))\n  }\n}\n","import { ActionTypes } from '../actions'\nimport { register, authenticate, passwordReset } from '../actions/api'\n\n// after the action?\nexport default (store) => (next) => (action) => {\n  next(action)\n  // const state = store.getState\n  const dispatch = store.dispatch\n\n  switch (action.type) {\n    case ActionTypes.ACCOUNT_REQUEST_REGISTER:\n      register(dispatch, action.payload)\n      break\n    case ActionTypes.ACCOUNT_REQUEST_LOGIN:\n      authenticate(dispatch, action.payload)\n      break\n\n    case ActionTypes.ACCOUNT_REQUEST_PASSWORD_RESET:\n      passwordReset(dispatch, action.payload)\n      break\n    default:\n    // console.log('Unrecognized action: ' + action.type)\n  }\n}\n","import { ActionTypes } from '../actions'\n\nconst accountDefaultState = {\n  openLogin: true,\n  openRegister: false,\n  openReset: false,\n  isLoading: false,\n  error: '',\n  notification: '',\n}\n\nfunction account(state = accountDefaultState, action) {\n  switch (action.type) {\n    case ActionTypes.ACCOUNT_OPEN_LOGIN_FORM:\n      return {\n        ...accountDefaultState,\n        openLogin: true,\n      }\n    case ActionTypes.ACCOUNT_OPEN_REGISTER_FORM:\n      return {\n        ...accountDefaultState,\n        openLogin: false,\n        openRegister: true,\n      }\n    case ActionTypes.ACCOUNT_OPEN_RESET_FORM:\n      return {\n        ...accountDefaultState,\n        openLogin: false,\n        openReset: true,\n      }\n    case ActionTypes.ACCOUNT_REQUEST_LOGIN:\n    case ActionTypes.ACCOUNT_REQUEST_REGISTER:\n    case ActionTypes.ACCOUNT_REQUEST_PASSWORD_RESET:\n      return {\n        ...state,\n        isLoading: true,\n      }\n\n    case ActionTypes.ACCOUNT_RECEIVE_REGISTER_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        openRegister: false,\n        openLogin: true,\n        notification: 'User successfully registered!',\n      }\n\n    case ActionTypes.ACCOUNT_RECEIVE_LOGIN_SUCCESS:\n      return { ...state, isLoading: false, openLogin: false }\n\n    case ActionTypes.ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        notification: 'Recovery email successfully sent',\n      }\n\n    case ActionTypes.ACCOUNT_RECEIVE_API_ERROR:\n      const error = action.payload.error\n      return { ...state, isLoading: false, error }\n\n    case ActionTypes.ACCOUNT_LOGOUT:\n      return accountDefaultState\n\n    default:\n      return state\n  }\n}\n\nexport default account\n","import { ActionTypes } from '../actions'\n\nconst defaultUserState = {}\nfunction user(state = defaultUserState, action) {\n  switch (action.type) {\n    case ActionTypes.ACCOUNT_RECEIVE_LOGIN_SUCCESS:\n      return {\n        ...action.payload,\n      }\n\n    case ActionTypes.ACCOUNT_LOGOUT:\n      return defaultUserState\n\n    default:\n      return state\n  }\n}\n\nexport default user\n","import { combineReducers } from 'redux'\nimport { ActionTypes } from '../actions'\nimport { omit } from 'lodash'\nimport account from './account'\nimport user from './user'\n\n// keep track of previous exercise\nconst defaultExerciseState = { previous: null, current: null }\nfunction exercise(state = defaultExerciseState, action) {\n  switch (action.type) {\n    case ActionTypes.START_EXERCISE:\n      return state.current === null\n        ? { ...state, current: action.payload }\n        : { previous: state.current, current: action.payload }\n\n    case ActionTypes.STOP_EXERCISE:\n    case ActionTypes.FINISH_EXERCISE:\n      return defaultExerciseState\n\n    default:\n      return state\n  }\n}\n\nfunction routines(state = [], action) {\n  switch (action.type) {\n    case ActionTypes.RECEIVE_ROUTINES_SUCCESS:\n      return action.payload.routines.map((routine) =>\n        omit(routine, 'exercises')\n      )\n\n    case ActionTypes.ORDER_ROUTINES:\n      return state.length === action.payload.length ? action.payload : state\n\n    default:\n      return state\n  }\n}\n\nfunction exercises(state = {}, action) {\n  switch (action.type) {\n    case ActionTypes.RECEIVE_ROUTINES_SUCCESS:\n      return action.payload.routines.reduce((acc, routine) => {\n        return {\n          ...acc,\n          [routine.id]: routine.exercises,\n        }\n      }, {})\n\n    case ActionTypes.ORDER_EXERCISES:\n      const { routineId, exercises } = action.payload\n\n      return {\n        ...state,\n        [routineId]:\n          state[routineId].length === exercises.length ? exercises : state,\n      }\n\n    case ActionTypes.SET_EXERCISE_DURATION: {\n      const { routineId, exerciseId, duration } = action.payload\n\n      return {\n        ...state,\n        [routineId]: state[routineId].map((exercise) =>\n          exercise.id === exerciseId ? { ...exercise, duration } : exercise\n        ),\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  exercise,\n  exercises,\n  routines,\n  account,\n  user,\n})\n","import { applyMiddleware, createStore } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\n// import loggerMiddleware from '../middleware/logger'\nimport middleware from '../middleware'\nimport rootReducer from '../reducers'\n\n// define what keys should be persisted using whitelist to not persist\n// store keys that are not that useful\nconst persistConfig = {\n  key: 'root',\n  whitelist: ['routines', 'exercises', 'user'],\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport default function configureStore(initialState = {}) {\n  const middlewares = [middleware, thunkMiddleware]\n  const middlewareEnhancer = applyMiddleware(...middlewares)\n\n  const composedEnhancers = composeWithDevTools(middlewareEnhancer)\n\n  const store = createStore(persistedReducer, initialState, composedEnhancers)\n  const persistor = persistStore(store)\n\n  return { store, persistor }\n}\n","import config from '../configuration'\n\nexport const getAudioManager = () => {\n  if (!window.AudioManager) {\n    window.AudioManager = new Audio()\n  }\n\n  return window.AudioManager\n}\n\nfunction playSound(sound, callback, numTimes = 1) {\n  if (!sound) {\n    console.warn('Sound: ' + sound + ' was not found')\n    return\n  }\n\n  const audio = getAudioManager()\n  audio.src = process.env.PUBLIC_URL + '/sounds/' + sound\n\n  const handler = () => {\n    audio.removeEventListener('ended', handler, true)\n    numTimes = numTimes - 1\n\n    if (numTimes === 0) {\n      if (typeof callback === 'function') {\n        callback()\n      }\n    } else {\n      audio.addEventListener('ended', handler, true)\n      audio.play()\n    }\n  }\n\n  audio.addEventListener('ended', handler, true)\n  audio.play()\n}\n\n// reorder function, used in the fancy drag and drop\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n\n  return result\n}\n\n// abstract what happend on drag end with fancy drag and drop\nfunction handleDragEnd(result, list, callback) {\n  if (!result.destination) {\n    return\n  }\n\n  if (result.destination.index === result.source.index) {\n    return\n  }\n\n  const orderedList = reorder(\n    list,\n    result.source.index,\n    result.destination.index\n  )\n\n  if (typeof callback === 'function') {\n    callback(orderedList)\n  }\n}\n\n// get selected/default locale. Locale is stored in local storage and shares between\n// a few components that need it. Only the locale key is stored, the details are\n// stored in the config file.\nfunction getLocale() {\n  const { locales, defaultLocale } = config\n\n  const storedLocale = window.localStorage.getItem('fizz-cult-locale')\n\n  return storedLocale && locales[storedLocale]\n    ? locales[storedLocale]\n    : locales[defaultLocale]\n}\n\n// set desired locale in the local storage\nfunction setLocale(newLocale) {\n  const oldLocale = getLocale()\n\n  if (oldLocale.locale !== newLocale) {\n    window.localStorage.setItem('fizz-cult-locale', newLocale)\n  } else {\n    console.log('Error: new locale is the same as the old locale')\n  }\n}\n\nexport { playSound, reorder, handleDragEnd, getLocale, setLocale }\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport { getLocale } from './utils'\n\nimport Backend from 'i18next-http-backend'\n// import LanguageDetector from 'i18next-browser-languagedetector'\n// not like to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  // .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    lng: getLocale().locale,\n    fallbackLng: ['en_GB', 'ru_RU'],\n    whitelist: ['en_GB', 'ru_RU'],\n    debug: false,\n\n    backend: {\n      loadPath: process.env.PUBLIC_URL + '/locales/{{lng}}/{{ns}}.json',\n    },\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n  })\n\nexport default i18n\n","import { useEffect, useRef } from 'react'\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef()\n\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    let id = null\n\n    function tick() {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      id = setInterval(tick, delay)\n    }\n\n    return () => clearInterval(id)\n  })\n}\n\nexport default useInterval\n","import { useState, useEffect, useRef } from 'react'\nimport { getLocale } from '../utils'\n\nfunction getLocaleVoice(voices, locale) {\n  const preferredVoice = voices.find((voice) => voice.name === locale.voice)\n\n  // seems like voice locale can be either en-GB or en_GB, so just find first\n  // without special symbols\n  return preferredVoice\n    ? preferredVoice\n    : voices.find(\n        (voice) =>\n          voice.lang.replace(/[^a-zA-Z]/gi, '') ===\n          locale.voiceLanguage.replace(/[^a-zA-Z]/gi, '')\n      )\n}\n\nfunction useSpeech(text, onStart, onEnd) {\n  const [voicesLoaded, setVoicesLoaded] = useState(false)\n  const savedStartCallback = useRef()\n  const savedEndCallback = useRef()\n\n  // save callbacks\n  useEffect(() => {\n    savedStartCallback.current = onStart\n    savedEndCallback.current = onEnd\n  }, [onStart, onEnd])\n\n  useEffect(() => {\n    const locale = getLocale()\n    const synth = window.speechSynthesis\n    const voices = synth.getVoices()\n\n    const handleVoiceChange = () => {\n      setVoicesLoaded((loaded) => !loaded)\n    }\n\n    // voices are loaded async\n    if (!voices.length) {\n      synth.addEventListener('voiceschanged', handleVoiceChange, true)\n    } else {\n      const utter = new SpeechSynthesisUtterance()\n      utter.text = text\n      utter.lang = locale.voiceLanguage\n      utter.voice = getLocaleVoice(voices, locale)\n      utter.onstart = savedStartCallback.current\n      utter.onend = savedEndCallback.current\n\n      // speak!\n      synth.speak(utter)\n    }\n\n    return () => {\n      synth.cancel()\n\n      // safari ios hack\n      if (typeof synth.removeEventListener === 'function') {\n        synth.removeEventListener('voiceschanged', handleVoiceChange, true)\n      }\n    }\n  }, [text, voicesLoaded])\n}\n\nexport default useSpeech\n","import React from 'react'\nimport classNames from 'classnames'\n\nfunction ExerciseControls(props) {\n  const { play, playCallback, nextCallback, previousCallback, disabled } = props\n\n  const controlsClassName = classNames('exercise-controls', {\n    'exercise-controls--disabled': disabled,\n  })\n  const playClassName = classNames({\n    'exercise-controls__play': !play,\n    'exercise-controls__pause': play,\n  })\n\n  const onPlay = () => {\n    if (!disabled) {\n      playCallback()\n    }\n  }\n\n  const onNext = () => {\n    if (!disabled) {\n      nextCallback()\n    }\n  }\n\n  return (\n    <div className={controlsClassName}>\n      <span\n        className=\"exercise-controls__previous\"\n        onClick={previousCallback}\n      ></span>\n      <span className={playClassName} onClick={onPlay}></span>\n      <span className=\"exercise-controls__next\" onClick={onNext}></span>\n    </div>\n  )\n}\n\nexport default React.memo(ExerciseControls)\n","import React from 'react'\nimport { Draggable } from 'react-beautiful-dnd'\nimport { useTranslation } from 'react-i18next'\nimport {\n  ListGroupItem,\n  Dropdown,\n  DropdownButton,\n  ButtonGroup,\n} from 'react-bootstrap'\n\nfunction ExerciseListItem({ actions, routineId, exercise, index }) {\n  const { t, i18n } = useTranslation()\n  const selectedLanguage = i18n.language\n\n  return (\n    <Draggable draggableId={exercise.id.toString()} index={index}>\n      {(provided) => (\n        <ListGroupItem\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n        >\n          <div className=\"exercise-list-item\">\n            <div className=\"exercise-list-item__name\">\n              {exercise.name[selectedLanguage]}\n            </div>\n            <div className=\"exercise-list-item__duration\">\n              <DropdownButton\n                as={ButtonGroup}\n                key={`${exercise.id}-duration`}\n                id={`dropdown-button-drop-duration`}\n                drop=\"down\"\n                variant=\"secondary\"\n                title={`${exercise.duration} ${t('exercises.exercise.duration_unit')}`}\n                onSelect={(duration) => {\n                  actions.setExerciseDuration({\n                    routineId,\n                    exerciseId: exercise.id,\n                    duration,\n                  })\n                }}\n              >\n                <Dropdown.Item eventKey=\"15\">15</Dropdown.Item>\n                <Dropdown.Item eventKey=\"30\">30</Dropdown.Item>\n                <Dropdown.Item eventKey=\"45\">45</Dropdown.Item>\n                <Dropdown.Item eventKey=\"60\">60</Dropdown.Item>\n              </DropdownButton>\n            </div>\n          </div>\n        </ListGroupItem>\n      )}\n    </Draggable>\n  )\n}\n\nexport default ExerciseListItem\n","import React, {useCallback} from 'react'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\nimport { ListGroup } from 'react-bootstrap'\nimport { handleDragEnd } from '../../utils'\n\nimport ExerciseListItem from './ExerciseListItem'\n\nfunction ExerciseList({ actions, routineId, exercises, onExerciseClick }) {\n\n  const setExercisesCallback = useCallback((exercises) => {\n    actions.orderExercises({ routineId, exercises })\n  }, [actions, routineId])\n\n  const onDragEnd = (result) => {\n    handleDragEnd(result, exercises, setExercisesCallback)\n  }\n\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Droppable droppableId=\"list\">\n        {(provided) => (\n          <ListGroup\n            className=\"exercise-list\"\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n          >\n            {exercises.map((exercise, index) => (\n              <ExerciseListItem\n                {...{\n                  actions,\n                  exercise,\n                  routineId,\n                  index,\n                  key: exercise.id,\n                  selectExercise: onExerciseClick,\n                }}\n              />\n            ))}\n            {provided.placeholder}\n          </ListGroup>\n        )}\n      </Droppable>\n    </DragDropContext>\n  )\n}\n\nexport default ExerciseList\n","import React from 'react'\nimport { OverlayTrigger, Popover } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\n\nimport { setLocale } from '../../utils'\nimport config from '../../configuration'\n\n// TODO: move switcher to it's own file\nfunction LocaleSwitcher() {\n  const { i18n } = useTranslation()\n  const selectedLanguage = i18n.language\n  const availableLanguages = i18n.languages\n  const { locales } = config\n\n  const changeLanguage = (language) => {\n    i18n.changeLanguage(language)\n    setLocale(language)\n  }\n\n  return (\n    <div className=\"locale-switcher\">\n      <OverlayTrigger\n        placement=\"left\"\n        trigger=\"click\"\n        rootClose\n        overlay={\n          <Popover id={'popover-locale'}>\n            <Popover.Content>\n              <div className=\"locale-switcher__locale-list\">\n                {availableLanguages.map((language) => (\n                  <div\n                    className=\"locale-switcher__locale\"\n                    key={`locale-${language}`}\n                    onClick={() => {\n                      document.body.click()\n                      changeLanguage(language)\n                    }}\n                  >\n                    <div className=\"locale-switcher__locale-flag\">\n                      <img\n                        src={\n                          process.env.PUBLIC_URL +\n                          `/images/flag/${language}.png`\n                        }\n                        alt={language}\n                      />\n                    </div>\n                    <div className=\"locale-switcher__locale-name\">\n                      {locales[language].name}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Popover.Content>\n          </Popover>\n        }\n      >\n        {\n          <img\n            src={\n              process.env.PUBLIC_URL + `/images/flag/${selectedLanguage}.png`\n            }\n            alt={selectedLanguage}\n          />\n        }\n      </OverlayTrigger>\n    </div>\n  )\n}\n\nexport default LocaleSwitcher\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport isEmpty from 'lodash/isEmpty'\n\n// wrapper for authenticated content, will show children when authenticated\n// or unauthenticated placehodler when not\nfunction Authenticated(props) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const user = useSelector((state) => state.user)\n\n  const { unauthenticated } = props\n\n  useEffect(() => {\n    if (!isEmpty(user)) {\n      // TODO: add more auth steps\n      // ways to validate the user:\n      // - check state for user - will do this for now\n      // - check session cookie\n      // - check for refresh token and it's expiration\n      // - make an api call to validate the token\n      setIsLoading(false)\n      setIsAuthenticated(true)\n    } else {\n      setIsAuthenticated(false)\n    }\n  }, [user])\n\n  // optional fallback if not authenticated\n  if ((!isAuthenticated || isLoading) && unauthenticated) {\n    return <React.Fragment>{unauthenticated}</React.Fragment>\n  }\n\n  // no fallback option\n  if (!isAuthenticated) {\n    return null\n  }\n\n  return <React.Fragment>{props.children}</React.Fragment>\n}\n\nexport default Authenticated\n","import React, { useCallback } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { useLocation, Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\n\nimport LocaleSwitcher from './LocaleSwitcher'\nimport Authenticated from './Authenticated'\n\nfunction Header(props) {\n  const location = useLocation()\n  const { t } = useTranslation()\n  const { actions } = props\n\n  const handleLogout = useCallback(() => {\n    actions.accountLogout()\n  }, [actions])\n\n  const handleOpenLogin = useCallback(() => {\n    actions.accountOpenLoginForm()\n  }, [actions])\n\n  const CustomToggle = React.forwardRef(({ onClick }, ref) => (\n    <span\n      className=\"fc-header__user\"\n      ref={ref}\n      onClick={(e) => {\n        e.preventDefault()\n        onClick(e)\n      }}\n    ></span>\n  ))\n\n  const HomeLink = () => (\n    <Link to={`${process.env.PUBLIC_URL}/`}>{t('header.title')}</Link>\n  )\n\n  const AboutLink = () => (\n    <Link to={`${process.env.PUBLIC_URL}/about`}>{t('header.nav.about')}</Link>\n  )\n\n  const LoginLink = () => (\n    <Link\n      to={{\n        pathname: `${process.env.PUBLIC_URL}/account/login`,\n        state: { background: location },\n      }}\n      onClick={handleOpenLogin}\n    >\n      {t('header.nav.login')}\n    </Link>\n  )\n\n  return (\n    <div className=\"fc-header\">\n      <div className=\"fc-header__content\">\n        <div className=\"fc-header__title\">{<HomeLink />}</div>\n        <div className=\"fc-header__nav\">\n          <div className=\"fc-header__nav-item\">{<AboutLink />}</div>\n          <div className=\"fc-header__nav-item\">\n            <Authenticated unauthenticated={<LoginLink />}>\n              <Dropdown>\n                <Dropdown.Toggle as={CustomToggle}></Dropdown.Toggle>\n                <Dropdown.Menu>\n                  <Dropdown.Item onClick={handleLogout}>Log out</Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            </Authenticated>\n          </div>\n          <div className=\"fc-header__nav-item\">\n            <LocaleSwitcher {...props} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Header)\n","import React from 'react'\nimport { Image } from 'react-bootstrap'\n\nfunction Jumbotron({ heading, text, image, children }) {\n  return (\n    <div className=\"fc-jumbotron\">\n      <div className=\"fc-jumbotron__container\">\n        <div className=\"fc-jumbotron__text\">\n          <div className=\"fc-jumbotron__text-heading\">{heading}</div>\n          <div className=\"fc-jumbotron__text-text\">{text}</div>\n        </div>\n        {image && (\n          <div className=\"fc-jumbotron__image\">\n            <Image src={process.env.PUBLIC_URL + '/images/' + image} fluid />\n          </div>\n        )}\n        <div className=\"fc-jumbotron__children\">{children}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default Jumbotron\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Footer() {\n  return (\n    <div className=\"footer\">\n      <div className=\"footer__container\">\n        <div className=\"footer__header\">FizzCultApp</div>\n        <div className=\"footer__links\">\n          <Link>Privacy policy</Link>\n          <Link>Contact Us</Link>\n        </div>\n        <div className=\"footer__social\">\n          <div className=\"footer__social-item footer__social-item--twitter\"></div>\n          <div className=\"footer__social-item footer__social-item--facebook\"></div>\n          <div className=\"footer__social-item footer__social-item--instagram\"></div>\n          <div className=\"footer__social-item footer__social-item--linkedin\"></div>\n        </div>\n        <div className=\"footer__copyright\">\n          © 2020 Igor, Inc. All Rights Reserved\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}","import React from 'react'\n\nfunction Loader() {\n  return (\n    <div className=\"fc-loader\">\n      <div className=\"fc-loader__header\"></div>\n      <div className=\"fc-loader__body\">\n        <div className=\"fc-loader__content\">\n          <span className=\"fc-loader__spinner\"></span>\n        </div>\n      </div>\n      <div className=\"fc-loader__footer\"></div>\n    </div>\n  )\n}\n\nexport default Loader","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Button } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\n\nimport { getAudioManager } from '../utils'\nimport ExerciseList from './exercise/ExerciseList'\nimport { Jumbotron } from './common'\n\nfunction Exercises(props) {\n  const { t } = useTranslation()\n  const history = useHistory()\n  const { exercises, routineId, actions } = props\n\n  const startExercise = () => {\n    // safari hack to provide audio for the rest of the app\n    getAudioManager()\n\n    const exercise = exercises[0]\n\n    if (exercise) {\n      actions.startExercise(exercise)\n      history.push(\n        process.env.PUBLIC_URL + `/routine/${routineId}/exercise/${exercise.id}`\n      )\n    }\n  }\n\n  return (\n    <div className=\"exercises\">\n      <Jumbotron\n        heading={t('exercises.header.heading')}\n        text={t('exercises.header.text')}\n        image=\"logo.png\"\n      >\n        <Button variant=\"secondary\" onClick={startExercise}>\n          {t('exercises.header.button')}\n        </Button>\n      </Jumbotron>\n      <ExerciseList {...{ actions, exercises, routineId }} />\n    </div>\n  )\n}\n\nexport default Exercises\n","import React from 'react'\nimport { Draggable } from 'react-beautiful-dnd'\nimport { Button, Image } from 'react-bootstrap'\nimport { useTranslation } from 'react-i18next'\n\nfunction Routine({ routine, index, selectRoutine }) {\n  const { t, i18n } = useTranslation()\n  const selectedLanguage = i18n.language\n\n  const onSelectRoutine = () => {\n    selectRoutine(routine.id)\n  }\n\n  return (\n    <Draggable draggableId={routine.id.toString()} index={index}>\n      {(provided) => (\n        <div\n          className=\"routines-list__item\"\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n        >\n          <div className=\"routines-list__item-container\">\n            <div className=\"routines-list__item-image\">\n              <Image\n                src={process.env.PUBLIC_URL + '/images/' + routine.image.src}\n                alt={routine.image.alt}\n                fluid\n              />\n            </div>\n            <div className=\"routines-list__item-text\">\n              <div className=\"routines-list__item-name\">\n                {routine.name[selectedLanguage]}\n              </div>\n              <div className=\"routines-list__item-description\">\n                {routine.description[selectedLanguage]}\n              </div>\n            </div>\n            <div className=\"routines-list__item-button\">\n              <Button variant=\"primary\" onClick={onSelectRoutine}>\n                {t('routines.routine.buttons.start')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </Draggable>\n  )\n}\n\nexport default Routine\n","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\nimport { useTranslation } from 'react-i18next'\n\nimport Routine from './routine/Routine'\nimport { Authenticated, Jumbotron } from './common'\n\nimport { handleDragEnd } from '../utils'\n\nfunction Routines({ actions, routines }) {\n  const history = useHistory()\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    actions.requestRoutinesData()\n  }, [actions])\n\n  const setRoutinesCallback = (routines) => {\n    actions.orderRoutines(routines)\n  }\n\n  const onRoutineClick = (routineId) => {\n    history.push(process.env.PUBLIC_URL + '/routine/' + routineId)\n  }\n\n  const onDragEnd = (result) => {\n    handleDragEnd(result, routines, setRoutinesCallback)\n  }\n\n  return (\n    <div className=\"routines\">\n      <Jumbotron\n        heading={t('routines.header.heading')}\n        text={t('routines.header.text')}\n        image=\"logo.png\"\n      >\n        <Authenticated>\n          <button>Add a new routine</button>\n        </Authenticated>\n      </Jumbotron>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"list\">\n          {(provided) => (\n            <div\n              className=\"routines-list\"\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n            >\n              {routines.map((routine, index) => (\n                <Routine\n                  routine={routine}\n                  index={index}\n                  key={routine.id}\n                  selectRoutine={onRoutineClick}\n                />\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n    </div>\n  )\n}\n\nexport default Routines\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { Exercise } from '../components'\nimport config from '../configuration'\nimport { BREAK_EXERCISE } from '../constants'\nimport * as ExerciseListActions from '../actions'\n\nimport { get } from 'lodash'\n\n// get next exercise in line\nfunction getNextExercise(exercise, exerciseList) {\n  if (!exercise.current) {\n    return null\n  }\n\n  const exerciseIndex = exerciseList.findIndex(\n    (item) => item.id === exercise.current.id\n  )\n\n  // no need for break after last exercise\n  if (exerciseIndex === exerciseList.length - 1) {\n    return null\n  }\n\n\n  if (exercise.current.type !== BREAK_EXERCISE) {\n    return config.breakExercise\n  }\n\n  const previousExerciseIndex = exerciseList.findIndex(\n    (item) => item.id === exercise.previous.id\n  )\n\n  return exerciseList[previousExerciseIndex + 1]\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { exercise, exercises } = state\n\n  const routineId = get(ownProps, 'match.params.routineId')\n\n  return {\n    config,\n    routineId,\n    exercise: exercise.current,\n    previousExercise: exercise.previous,\n    nextExercise: getNextExercise(exercise, exercises[routineId]),\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(ExerciseListActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Exercise)\n","import React, { useState, useCallback } from 'react'\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar'\nimport 'react-circular-progressbar/dist/styles.css'\nimport { useHistory } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\nimport { useInterval, useSpeech } from '../../hooks'\nimport ExerciseControls from './ExerciseControls'\n\nimport { playSound } from '../../utils'\nimport { get } from 'lodash'\n\nexport default function Exercise({ exercise, nextExercise, actions }) {\n  const [seconds, setSeconds] = useState(get(exercise, 'duration', 30))\n  const [play, setPlay] = useState(false)\n  const [soundPlaying, setSoundPlaying] = useState(true)\n  const history = useHistory()\n  const { i18n } = useTranslation()\n\n  const selectedLanguage = i18n.language\n  const exerciseName = exercise ? exercise.name[selectedLanguage] : ''\n\n  useInterval(\n    () => {\n      if (seconds === 1 && play) {\n        playSound('beep.wav', nextCallback, 2)\n      }\n\n      if (seconds < 6 && seconds !== 1) {\n        playSound('beep.wav')\n      }\n\n      setSeconds(seconds - 1)\n    },\n    play && seconds > 0 ? 1000 : null\n  )\n\n  useSpeech(\n    exerciseName,\n    () => {\n      setSoundPlaying(true)\n      setPlay(false)\n    },\n    () => {\n      setTimeout(() => {\n        setPlay(true)\n        setSoundPlaying(false)\n      }, 1000)\n    }\n  )\n\n  const startExercise = useCallback(\n    (exercise) => {\n      if (exercise) {\n        setPlay(false)\n        setSeconds(exercise.duration)\n        actions.startExercise(exercise)\n      } else {\n        setPlay(false)\n        actions.finishExercise()\n      }\n    },\n    [actions]\n  )\n\n  const nextCallback = useCallback(() => {\n    startExercise(nextExercise)\n  }, [startExercise, nextExercise])\n\n  const previousCallback = useCallback(() => {\n    startExercise(exercise)\n  }, [startExercise, exercise])\n\n  const playCallback = useCallback(() => {\n    setPlay(play => !play)\n  }, [])\n\n  const goBack = () => {\n    // cancel()\n    actions.finishExercise()\n    history.push(`${process.env.PUBLIC_URL}/finished`)\n  }\n\n  if (!exercise) {\n    // in case the exercise was not found, redirect to main page\n    goBack()\n    return null\n  }\n\n  return (\n    <div className=\"exercise\">\n      <div className=\"exercise__header\">\n        {exercise.name[selectedLanguage]}\n        <div className=\"exercise__header-icon\" onClick={goBack}></div>\n      </div>\n      <div className=\"exercise__body\">\n        <div className=\"exercise__image\">\n          <img\n            src={process.env.PUBLIC_URL + '/images/' + exercise.image}\n            alt={exercise.image_alt}\n          />\n        </div>\n        <div className=\"exercise__timer\">\n          <CircularProgressbar\n            value={seconds}\n            minValue=\"0\"\n            maxValue={exercise.duration}\n            text={seconds}\n            styles={buildStyles({\n              strokeLinecap: 'butt',\n              textSize: '20px',\n              pathTransitionDuration: 0.5,\n              pathColor: '#13a0c3',\n              textColor: '#13a0c3',\n              trailColor: '#d6d6d6',\n              backgroundColor: '#3e98c7',\n            })}\n          />\n        </div>\n      </div>\n      <div className=\"exercise__footer\">\n        <ExerciseControls\n          {...{\n            play,\n            playCallback,\n            nextCallback,\n            previousCallback,\n            disabled: soundPlaying,\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { get } from 'lodash'\n\nimport { Exercises } from '../components'\nimport * as ExercisesActions from '../actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  const routineId = get(ownProps, 'match.params.routineId')\n  const exercises = get(state, ['exercises', routineId], [])\n\n  return {\n    routineId,\n    exercises,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(ExercisesActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Exercises)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { Routines } from '../components'\nimport * as RoutineActions from '../actions'\n\nconst mapStateToProps = (state) => {\n  return {\n    routines: state.routines,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(RoutineActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Routines)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { Header } from '../components/common'\nimport * as HeaderActions from '../actions'\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(HeaderActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\n","import React from 'react'\n\nfunction Login(props) {\n  const { actions, isLoading, error, notification } = props\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    if (!event.target.checkValidity()) {\n      console.warn('validation error')\n    } else {\n      const formData = new FormData(event.target)\n      actions.accountRequestLogin(formData)\n    }\n  }\n\n  const handlePasswordReset = () => {\n    actions.accountOpenPasswordResetForm()\n  }\n\n  const handleRegister = () => {\n    actions.accountOpenRegisterForm()\n  }\n\n  return (\n    <div className=\"fc-form\">\n      <div className=\"fc-form__header\">Sign In</div>\n\n      {error && <div className=\"fc-form__error\">{error}</div>}\n      {notification && <div className=\"fc-form__notification\">{notification}</div>}\n\n      <form onSubmit={handleSubmit}>\n        <fieldset className=\"fc-form__body\" disabled={isLoading}>\n          <label className=\"fc-form__label\" htmlFor=\"fc-email\">\n            Email\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-email\"\n              name=\"email\"\n              type=\"email\"\n              required\n            />\n          </label>\n\n          <label className=\"fc-form__label\" htmlFor=\"fc-password\">\n            Password\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-password\"\n              name=\"password\"\n              type=\"password\"\n              required\n            />\n          </label>\n\n          <button type=\"submit\" className=\"fc-form__button\">\n            <span className=\"fc-form__button-text\">\n              {isLoading ? (\n                <span>\n                  Loading<span className=\"dot-loader\"></span>\n                </span>\n              ) : (\n                'Sign in'\n              )}\n            </span>\n          </button>\n\n          <p className=\"fc-form__sign-up\">\n            Don't have an account?\n            <span className=\"fc-form__sign-up-here\" onClick={handleRegister}>\n              Create one here!\n            </span>\n          </p>\n\n          <p className=\"fc-form__reminder\" onClick={handlePasswordReset}>\n            Forgot password?\n          </p>\n        </fieldset>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\n\nconst Register = (props) => {\n  const { actions, isLoading, error, notification } = props\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    if (!event.target.checkValidity()) {\n      console.warn('validation error')\n    } else {\n      const formData = new FormData(event.target)\n      actions.accountRequestRegister(formData)\n    }\n  }\n\n  const handleLogin = () => {\n    actions.accountOpenLoginForm()\n  }\n\n  const PasswordTooltip = (props) => (\n    <Tooltip {...props}>\n      Password must be at least 8 characters long, have upper and lower case\n      letters and numbers\n    </Tooltip>\n  )\n\n  return (\n    <div className=\"fc-form\">\n      <div className=\"fc-form__header\">Register a new user</div>\n\n      {error && <div className=\"fc-form__error\">{error}</div>}\n      {notification && (\n        <div className=\"fc-form__notification\">{notification}</div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <fieldset className=\"fc-form__body\" disabled={isLoading}>\n          <label className=\"fc-form__label\" htmlFor=\"fc-name\">\n            Name\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-name\"\n              name=\"name\"\n              type=\"text\"\n              required\n            />\n          </label>\n\n          <label className=\"fc-form__label\" htmlFor=\"fc-email\">\n            Email\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-email\"\n              name=\"email\"\n              type=\"email\"\n              required\n            />\n          </label>\n\n          <label className=\"fc-form__label\" htmlFor=\"fc-password\">\n            <span className=\"fc-form__label-text\">\n              Password\n              <OverlayTrigger placement=\"bottom\" overlay={PasswordTooltip}>\n                <span className=\"fc-form__password-info\" />\n              </OverlayTrigger>\n            </span>\n\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-password\"\n              name=\"password\"\n              type=\"password\"\n              required\n              pattern=\"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,32}$\"\n            />\n          </label>\n\n          <button type=\"submit\" className=\"fc-form__button\">\n            <span className=\"fc-form__button-text\">\n              {isLoading ? (\n                <span>\n                  Loading<span className=\"dot-loader\"></span>\n                </span>\n              ) : (\n                'Register'\n              )}\n            </span>\n          </button>\n\n          <p className=\"fc-form__sign-up\">\n            Already have an account?\n            <span className=\"fc-form__sign-up-here\" onClick={handleLogin}>\n              Sign in here!\n            </span>\n          </p>\n        </fieldset>\n      </form>\n    </div>\n  )\n}\n\nexport default Register\n","import React from 'react'\n\nconst Reset = (props) => {\n  const { actions, isLoading, error, notification } = props\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    if (!event.target.checkValidity()) {\n      console.warn('validation error')\n    } else {\n      const formData = new FormData(event.target)\n      actions.accountRequestPasswordReset(formData)\n    }\n  }\n\n  const handleLogin = () => {\n    actions.accountOpenLoginForm()\n  }\n\n  const handleRegister = () => {\n    actions.accountOpenRegisterForm()\n  }\n\n  return (\n    <div className=\"fc-form\">\n      <div className=\"fc-form__header\">\n        Enter your email to reset the password\n      </div>\n\n      {error && <div className=\"fc-form__error\">{error}</div>}\n\n      {notification && (\n        <div className=\"fc-form__notification\">{notification}</div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <fieldset className=\"fc-form__body\" disabled={isLoading}>\n          <label className=\"fc-form__label\" htmlFor=\"fc-email\">\n            Email\n            <input\n              className=\"fc-form__input\"\n              id=\"fc-email\"\n              name=\"email\"\n              type=\"email\"\n              required\n            />\n          </label>\n\n          <button type=\"submit\" className=\"fc-form__button\">\n            <span className=\"fc-form__button-text\">\n              {isLoading ? (\n                <span>\n                  Loading<span className=\"dot-loader\"></span>\n                </span>\n              ) : (\n                'Reset'\n              )}\n            </span>\n          </button>\n\n          <p className=\"fc-form__sign-up\">\n            Don't have an account?\n            <span className=\"fc-form__sign-up-here\" onClick={handleRegister}>\n              Create one here!\n            </span>\n          </p>\n\n          <p className=\"fc-form__sign-up\">\n            Remembered the password?\n            <span className=\"fc-form__sign-up-here\" onClick={handleLogin}>\n              Sign in here!\n            </span>\n          </p>\n        </fieldset>\n      </form>\n    </div>\n  )\n}\n\nexport default Reset\n","import React, { useEffect } from 'react'\nimport Login from './Login'\nimport Register from './Register'\nimport Reset from './Reset'\n\nconst LoginForm = (props) => {\n  const { openLogin, openRegister, openReset, closeModalCallback } = props\n\n  useEffect(() => {\n    if (!openLogin && !openRegister && !openReset) {\n      closeModalCallback()\n    }\n  }, [openLogin, openRegister, openReset, closeModalCallback])\n\n  return (\n    <React.Fragment>\n      {openLogin && <Login {...props} />}\n      {openRegister && <Register {...props} />}\n      {openReset && <Reset {...props} />}\n    </React.Fragment>\n  )\n}\n\nexport default LoginForm\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport LoginForm from '../../components/account/LoginForm'\nimport * as LoginActions from '../../actions'\n\nconst mapStateToProps = (state, ownProps) => {\n  const { account } = state\n  return {\n    ...account,\n    closeModalCallback: ownProps.closeModal \n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(LoginActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)\n","import React, { useCallback } from 'react'\nimport ReactDOM from 'react-dom'\nimport { useHistory } from 'react-router-dom'\n\nimport LoginForm from '../../containers/account/LoginForm'\n\nimport { ModalSubroute } from '../../constants'\n\nfunction Modal({ subroute }) {\n  const history = useHistory()\n\n  const closeModal = useCallback(() => {\n    history.goBack()\n  }, [history])\n\n  return ReactDOM.createPortal(\n    <div className=\"fc-modal__wrapper\" onClick={closeModal}>\n      <div\n        className=\"fc-modal\"\n        onClick={(e) => {\n          e.stopPropagation()\n        }}\n      >\n        <div className=\"fc-modal__close\" onClick={closeModal}></div>\n        <div className=\"fc-modal__container\">\n          <div className=\"fc-modal__header\"></div>\n          <div className=\"fc-modal__body\">\n            {subroute === ModalSubroute.LOGIN && (\n              <LoginForm closeModal={closeModal} />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  )\n}\n\nexport default Modal\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport Modal from '../components/common/Modal'\nimport config from '../configuration'\nimport * as ModalActions from '../actions'\n\nimport { get } from 'lodash'\n\nconst mapStateToProps = (state, ownProps) => {\n  // const { user } = state\n\n  const subroute = get(ownProps, 'match.params.subroute')\n\n  return {\n    config,\n    subroute,\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(ModalActions, dispatch),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal)\n","import React from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\n\nfunction ExerciseFinished() {\n  const history = useHistory()\n  const { t } = useTranslation()\n\n  const goBack = () => {\n    history.push(`${process.env.PUBLIC_URL}/`)\n  }\n\n  return (\n    <div className=\"exercise-finished\">\n      <div className=\"exercise-finished__header\">\n        {t('exercises.exercise.finished.header')}\n      </div>\n      <div className=\"exercise-finished__body\">\n        {t('exercises.exercise.finished.body')}\n      </div>\n      <div className=\"exercise-finished__footer\">\n        <Button onClick={goBack}>\n          {t('exercises.exercise.finished.button')}\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default ExerciseFinished\n","import React, { Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport * as serviceWorker from './serviceWorker'\nimport configureStore from './store'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useLocation,\n} from 'react-router-dom'\n\nimport './scss/index.scss'\nimport './i18next'\nimport { Exercise, Exercises, Routines, Header, Modal } from './containers'\nimport { ScrollToTop, Footer, Loader } from './components/common'\nimport ExerciseFinished from './components/exercise/ExerciseFinished'\n\nconst { store, persistor } = configureStore()\n\nexport default function RouterSwitch() {\n  const location = useLocation()\n  const background = location.state && location.state.background\n\n  const NotFound = () => (\n    <div className=\"fc-404\">\n      <h3>404 page not found</h3>\n      <p>We are sorry but the page you are looking for does not exist.</p>\n    </div>\n  )\n\n  return (\n    <div className=\"body\">\n      <Switch location={background || location}>\n        <Route\n          exact\n          path={process.env.PUBLIC_URL + '/routine/:routineId'}\n          component={Exercises}\n        />\n        <Route\n          exact\n          path={\n            process.env.PUBLIC_URL + '/routine/:routineId/exercise/:exerciseId'\n          }\n          component={Exercise}\n        />\n        <Route\n          exact\n          path={process.env.PUBLIC_URL + '/finished'}\n          component={ExerciseFinished}\n        />\n        <Route\n          exact\n          path={process.env.PUBLIC_URL + '/account/login'}\n          component={Routines}\n        />\n        <Route exact path={process.env.PUBLIC_URL + '/'} component={Routines} />\n        <Route path=\"*\" component={NotFound} />\n      </Switch>\n      {background && (\n        <Route\n          exact\n          path={process.env.PUBLIC_URL + '/account/:subroute'}\n          component={Modal}\n        />\n      )}\n    </div>\n  )\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <Router onUpdate={() => window.scrollTo(0, 0)}>\n        <Suspense fallback={<Loader />}>\n          <Header />\n          <ScrollToTop />\n          <RouterSwitch />\n          <Footer />\n        </Suspense>\n      </Router>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n)\n\nserviceWorker.unregister()\n"],"sourceRoot":""}