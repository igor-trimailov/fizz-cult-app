(this["webpackJsonpfizz-cult-app"]=this["webpackJsonpfizz-cult-app"]||[]).push([[0],{104:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return mt}));var n={};a.r(n),a.d(n,"requestRoutinesData",(function(){return V})),a.d(n,"restApiCall",(function(){return X})),a.d(n,"register",(function(){return M})),a.d(n,"authenticate",(function(){return q})),a.d(n,"passwordReset",(function(){return W})),a.d(n,"requestRoutines",(function(){return v})),a.d(n,"receiveRoutinesSuccess",(function(){return b})),a.d(n,"receiveRoutinesError",(function(){return C})),a.d(n,"orderRoutines",(function(){return S})),a.d(n,"orderExercises",(function(){return g})),a.d(n,"startExercise",(function(){return N})),a.d(n,"setExerciseDuration",(function(){return h})),a.d(n,"finishExercise",(function(){return I})),a.d(n,"apiError",(function(){return T})),a.d(n,"accountOpenLoginForm",(function(){return y})),a.d(n,"accountRequestLogin",(function(){return x})),a.d(n,"accountLoginSuccess",(function(){return U})),a.d(n,"accountLogout",(function(){return j})),a.d(n,"accountOpenRegisterForm",(function(){return A})),a.d(n,"accountRequestRegister",(function(){return w})),a.d(n,"accountRegisterSuccess",(function(){return k})),a.d(n,"accountOpenPasswordResetForm",(function(){return L})),a.d(n,"accountRequestPasswordReset",(function(){return P})),a.d(n,"accountPasswordResetSuccess",(function(){return z})),a.d(n,"accountApiError",(function(){return G})),a.d(n,"ActionTypes",(function(){return R}));var r=a(0),c=a.n(r),o=a(11),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(6),l=a(75),u=a(76),E=a(66),m=a(78),d=a.n(m),f=a(5),_=a(21),p=a.n(_),O=a(41),R={REQUEST_EXERCISES:"REQUEST_EXERCISES",RECEIVE_EXERCISES_SUCCESS:"RECEIVE_EXERCISES_SUCCESS",RECEIVE_EXERCISES_ERROR:"RECEIVE_EXERCISES_ERROR",ORDER_EXERCISES:"ORDER_EXERCISES",SET_EXERCISE_DURATION:"SET_EXERCISE_DURATION",FINISH_EXERCISE:"FINISH_EXERCISE",REQUEST_ROUTINES:"REQUEST_ROUTINES",RECEIVE_ROUTINES_SUCCESS:"RECEIVE_ROUTINES_SUCCESS",RECEIVE_ROUTINES_ERROR:"RECEIVE_ROUTINES_ERROR",ORDER_ROUTINES:"ORDER_ROUTINES",START_EXERCISE:"START_EXERCISE",STOP_EXERCISE:"STOP_EXERCISE",API_ERROR:"API_ERROR",ACCOUNT_RECEIVE_API_ERROR:"ACCOUNT_RECEIVE_API_ERROR",ACCOUNT_LOGOUT:"ACCOUNT_LOGOUT",ACCOUNT_OPEN_LOGIN_FORM:"ACCOUNT_OPEN_LOGIN_FORM",ACCOUNT_OPEN_REGISTER_FORM:"ACCOUNT_OPEN_REGISTER_FORM",ACCOUNT_OPEN_RESET_FORM:"ACCOUNT_OPEN_RESET_FORM",ACCOUNT_REQUEST_LOGIN:"ACCOUNT_REQUEST_LOGIN",ACCOUNT_RECEIVE_LOGIN_SUCCESS:"ACCOUNT_RECEIVE_LOGIN_SUCCESS",ACCOUNT_REQUEST_REGISTER:"ACCOUNT_REQUEST_REGISTER",ACCOUNT_RECEIVE_REGISTER_SUCCESS:"ACCOUNT_RECEIVE_REGISTER_SUCCESS",ACCOUNT_REQUEST_PASSWORD_RESET:"ACCOUNT_REQUEST_PASSWORD_RESET",ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS:"ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS"};function v(){return{type:R.REQUEST_ROUTINES}}function b(e){return{type:R.RECEIVE_ROUTINES_SUCCESS,payload:e}}function C(e){return{type:R.RECEIVE_ROUTINES_ERROR,payload:e}}function S(e){return{type:R.ORDER_ROUTINES,payload:e}}function g(e){return{type:R.ORDER_EXERCISES,payload:e}}function N(e){return{type:R.START_EXERCISE,payload:e}}function h(e){return{type:R.SET_EXERCISE_DURATION,payload:e}}function I(){return{type:R.FINISH_EXERCISE}}function T(e){return{type:R.API_ERROR,payload:e}}function y(){return{type:R.ACCOUNT_OPEN_LOGIN_FORM}}function x(e){return{type:R.ACCOUNT_REQUEST_LOGIN,payload:e}}function U(e){return{type:R.ACCOUNT_RECEIVE_LOGIN_SUCCESS,payload:e}}function j(){return{type:R.ACCOUNT_LOGOUT}}function A(){return{type:R.ACCOUNT_OPEN_REGISTER_FORM}}function w(e){return{type:R.ACCOUNT_REQUEST_REGISTER,payload:e}}function k(e){return{type:R.ACCOUNT_RECEIVE_REGISTER_SUCCESS,payload:e}}function L(){return{type:R.ACCOUNT_OPEN_RESET_FORM}}function P(e){return{type:R.ACCOUNT_REQUEST_PASSWORD_RESET,payload:e}}function z(e){return{type:R.ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS,payload:e}}function G(e){return{type:R.ACCOUNT_RECEIVE_API_ERROR,payload:e}}var F="login",D={API_BASE_URL:"https://fizz-cult-api.herokuapp.com/api/v1",defaultLocale:"en_GB",locales:{en_GB:{locale:"en_GB",name:"English",voice:"Google UK English Female",voiceLanguage:"en-GB"},ru_RU:{locale:"ru_RU",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",voice:"Google \u0440\u0443\u0441\u0441\u043a\u0438\u0439",voiceLanguage:"ru-RU"}},breakExercise:{id:-1,name:{en_GB:"Break-time!",ru_RU:"\u041f\u0435\u0440\u0435\u0440\u044b\u0432!"},image:"break.png",image_alt:"Take a Break!",sound:"break.mp3",duration:5,type:"BREAK_EXERCISE"}},V=function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.next=3,fetch("/fizz-cult-app/data.json").then((function(e){return e.json()})).then((function(e){console.log("fetced data",e),t(b(e))})).catch((function(e){console.warn("data fetch error",e),t(C("Could not fetch data"))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(D.API_BASE_URL+e,Object(f.a)({method:"GET",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},timeout:2e4},t)).then((function(e){return 200===e.status||422===e.status||401===e.status?e.json().then((function(e){return e.success?e:Promise.reject({error:e.message})})):Promise.reject({error:"Unhandled server error: "+e.status})}),(function(){return Promise.reject({error:"Unknown server error"})})).then((function(e){return{success:!0,data:e}})).catch((function(e){return{success:!1,error:e}}))}function M(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(O.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/register/",n={method:"POST",body:new URLSearchParams(a)},e.prev=2,e.next=5,X("/users/register/",n);case 5:(r=e.sent).success?t(k()):t(G(r.error)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(G(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function q(e,t){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/authenticate/",n={method:"POST",body:new URLSearchParams(a)},e.prev=2,e.next=5,X("/users/authenticate/",n);case 5:(r=e.sent).success?t(U(r.data)):t(G(r.error)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(G(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function W(e,t){return K.apply(this,arguments)}function K(){return(K=Object(O.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/recover/",n={method:"POST",body:new URLSearchParams(a)},e.prev=2,e.next=5,X("/users/recover/",n);case 5:(r=e.sent).success?t(z(r.data)):t(G(r.error)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(G(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var H=function(e){return function(t){return function(a){t(a);var n=e.dispatch;switch(a.type){case R.ACCOUNT_REQUEST_REGISTER:M(n,a.payload);break;case R.ACCOUNT_REQUEST_LOGIN:q(n,a.payload);break;case R.ACCOUNT_REQUEST_PASSWORD_RESET:W(n,a.payload)}}}},Z=a(25),J=a(17),$={openLogin:!0,openRegister:!1,openReset:!1,isLoading:!1,error:"",notification:""};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.ACCOUNT_OPEN_LOGIN_FORM:return Object(f.a)(Object(f.a)({},$),{},{openLogin:!0});case R.ACCOUNT_OPEN_REGISTER_FORM:return Object(f.a)(Object(f.a)({},$),{},{openLogin:!1,openRegister:!0});case R.ACCOUNT_OPEN_RESET_FORM:return Object(f.a)(Object(f.a)({},$),{},{openLogin:!1,openReset:!0});case R.ACCOUNT_REQUEST_LOGIN:case R.ACCOUNT_REQUEST_REGISTER:case R.ACCOUNT_REQUEST_PASSWORD_RESET:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0});case R.ACCOUNT_RECEIVE_REGISTER_SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,openRegister:!1,openLogin:!0,notification:"User successfully registered!"});case R.ACCOUNT_RECEIVE_LOGIN_SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,openLogin:!1});case R.ACCOUNT_RECEIVE_PASSWORD_RESET_SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,notification:"Recovery email successfully sent"});case R.ACCOUNT_RECEIVE_API_ERROR:var a=t.payload.error;return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,error:a});case R.ACCOUNT_LOGOUT:return $;default:return e}},ee={};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.ACCOUNT_RECEIVE_LOGIN_SUCCESS:return Object(f.a)({},t.payload);case R.ACCOUNT_LOGOUT:return ee;default:return e}},ae={previous:null,current:null};var ne=Object(s.combineReducers)({exercise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.START_EXERCISE:return null===e.current?Object(f.a)(Object(f.a)({},e),{},{current:t.payload}):{previous:e.current,current:t.payload};case R.STOP_EXERCISE:case R.FINISH_EXERCISE:return ae;default:return e}},exercises:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_ROUTINES_SUCCESS:return t.payload.routines.reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(Z.a)({},t.id,t.exercises))}),{});case R.ORDER_EXERCISES:var a=t.payload,n=a.routineId,r=a.exercises;return Object(f.a)(Object(f.a)({},e),{},Object(Z.a)({},n,e[n].length===r.length?r:e));case R.SET_EXERCISE_DURATION:var c=t.payload,o=c.routineId,i=c.exerciseId,s=c.duration;return Object(f.a)(Object(f.a)({},e),{},Object(Z.a)({},o,e[o].map((function(e){return e.id===i?Object(f.a)(Object(f.a)({},e),{},{duration:s}):e}))));default:return e}},routines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.RECEIVE_ROUTINES_SUCCESS:return t.payload.routines.map((function(e){return Object(J.omit)(e,"exercises")}));case R.ORDER_ROUTINES:return e.length===t.payload.length?t.payload:e;default:return e}},account:Y,user:te}),re={key:"root",whitelist:["routines","exercises","user"],storage:d.a},ce=Object(E.a)(re,ne);var oe=a(10),ie=a(79),se=a(9),le=a(13),ue=(a(104),a(65)),Ee=a(33),me=a(19),de=function(){return window.AudioManager||(window.AudioManager=new Audio),window.AudioManager};function fe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var n=de();n.src="/fizz-cult-app/sounds/"+e;var r=function e(){n.removeEventListener("ended",e,!0),0===(a-=1)?"function"===typeof t&&t():(n.addEventListener("ended",e,!0),n.play())};n.addEventListener("ended",r,!0),n.play()}else console.warn("Sound: "+e+" was not found")}function _e(e,t,a){if(e.destination&&e.destination.index!==e.source.index){var n=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(me.a)(r,1)[0];return n.splice(a,0,c),n}(t,e.source.index,e.destination.index);"function"===typeof a&&a(n)}}function pe(){var e=D.locales,t=D.defaultLocale,a=window.localStorage.getItem("fizz-cult-locale");return a&&e[a]?e[a]:e[t]}var Oe=a(89);ue.a.use(Oe.a).use(Ee.f).init({lng:pe().locale,fallbackLng:["en_GB","ru_RU"],whitelist:["en_GB","ru_RU"],debug:!1,backend:{loadPath:"/fizz-cult-app/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1}});ue.a;var Re=a(60),ve=(a(105),a(149));var be=function(e,t){var a=Object(r.useRef)();Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=null;return null!==t&&(e=setInterval((function(){a.current()}),t)),function(){return clearInterval(e)}}))};var Ce=function(e,t,a){var n=Object(r.useState)(!1),c=Object(me.a)(n,2),o=c[0],i=c[1],s=Object(r.useRef)(),l=Object(r.useRef)();Object(r.useEffect)((function(){s.current=t,l.current=a}),[t,a]),Object(r.useEffect)((function(){var t=pe(),a=window.speechSynthesis,n=a.getVoices(),r=function(){i((function(e){return!e}))};if(n.length){var c=new SpeechSynthesisUtterance;c.text=e,c.lang=t.voiceLanguage,c.voice=function(e,t){var a=e.find((function(e){return e.name===t.voice}));return a||e.find((function(e){return e.lang.replace(/[^a-zA-Z]/gi,"")===t.voiceLanguage.replace(/[^a-zA-Z]/gi,"")}))}(n,t),c.onstart=s.current,c.onend=l.current,a.speak(c)}else a.addEventListener("voiceschanged",r,!0);return function(){a.cancel(),"function"===typeof a.removeEventListener&&a.removeEventListener("voiceschanged",r,!0)}}),[e,o])},Se=a(4),ge=a.n(Se);var Ne=c.a.memo((function(e){var t=e.play,a=e.playCallback,n=e.nextCallback,r=e.previousCallback,o=e.disabled,i=ge()("exercise-controls",{"exercise-controls--disabled":o}),s=ge()({"exercise-controls__play":!t,"exercise-controls__pause":t});return c.a.createElement("div",{className:i},c.a.createElement("span",{className:"exercise-controls__previous",onClick:r}),c.a.createElement("span",{className:s,onClick:function(){o||a()}}),c.a.createElement("span",{className:"exercise-controls__next",onClick:function(){o||n()}}))}));var he=a(86),Ie=a(20),Te=a(147),ye=a(90),xe=a(142),Ue=a(143),je=a(54);var Ae=function(e){var t=e.actions,a=e.routineId,n=e.exercise,r=e.index,o=Object(ve.a)(),i=o.t,s=o.i18n.language;return c.a.createElement(Ie.b,{draggableId:n.id.toString(),index:r},(function(e){return c.a.createElement(ye.a,Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),c.a.createElement("div",{className:"exercise-list-item"},c.a.createElement("div",{className:"exercise-list-item__name"},n.name[s]),c.a.createElement("div",{className:"exercise-list-item__duration"},c.a.createElement(xe.a,{as:Ue.a,key:"".concat(n.id,"-duration"),id:"dropdown-button-drop-duration",drop:"down",variant:"secondary",title:"".concat(n.duration," ").concat(i("exercises.exercise.duration_unit")),onSelect:function(e){t.setExerciseDuration({routineId:a,exerciseId:n.id,duration:e})}},c.a.createElement(je.a.Item,{eventKey:"15"},"15"),c.a.createElement(je.a.Item,{eventKey:"30"},"30"),c.a.createElement(je.a.Item,{eventKey:"45"},"45"),c.a.createElement(je.a.Item,{eventKey:"60"},"60")))))}))};var we=function(e){var t=e.actions,a=e.routineId,n=e.exercises,o=e.onExerciseClick,i=Object(r.useCallback)((function(e){t.orderExercises({routineId:a,exercises:e})}),[t,a]);return c.a.createElement(Ie.a,{onDragEnd:function(e){_e(e,n,i)}},c.a.createElement(Ie.c,{droppableId:"list"},(function(e){return c.a.createElement(Te.a,Object.assign({className:"exercise-list",ref:e.innerRef},e.droppableProps),n.map((function(e,n){return c.a.createElement(Ae,{actions:t,exercise:e,routineId:a,index:n,key:e.id,selectExercise:o})})),e.placeholder)})))},ke=a(146),Le=a(148);var Pe=function(){var e=Object(ve.a)().i18n,t=e.language,a=e.languages,n=D.locales,r=function(t){var a;e.changeLanguage(t),a=t,pe().locale!==a?window.localStorage.setItem("fizz-cult-locale",a):console.log("Error: new locale is the same as the old locale")};return c.a.createElement("div",{className:"locale-switcher"},c.a.createElement(ke.a,{placement:"left",trigger:"click",rootClose:!0,overlay:c.a.createElement(Le.a,{id:"popover-locale"},c.a.createElement(Le.a.Content,null,c.a.createElement("div",{className:"locale-switcher__locale-list"},a.map((function(e){return c.a.createElement("div",{className:"locale-switcher__locale",key:"locale-".concat(e),onClick:function(){document.body.click(),r(e)}},c.a.createElement("div",{className:"locale-switcher__locale-flag"},c.a.createElement("img",{src:"/fizz-cult-app"+"/images/flag/".concat(e,".png"),alt:e})),c.a.createElement("div",{className:"locale-switcher__locale-name"},n[e].name))})))))},c.a.createElement("img",{src:"/fizz-cult-app"+"/images/flag/".concat(t,".png"),alt:t})))},ze=a(87),Ge=a.n(ze);var Fe=function(e){var t=Object(r.useState)(!1),a=Object(me.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(me.a)(i,2),l=s[0],u=s[1],E=Object(oe.c)((function(e){return e.user})),m=e.unauthenticated;return Object(r.useEffect)((function(){Ge()(E)?o(!1):(u(!1),o(!0))}),[E]),n&&!l||!m?n?c.a.createElement(c.a.Fragment,null,e.children):null:c.a.createElement(c.a.Fragment,null,m)};var De=c.a.memo((function(e){var t=Object(se.g)(),a=Object(ve.a)().t,n=e.actions,o=Object(r.useCallback)((function(){n.accountLogout()}),[n]),i=Object(r.useCallback)((function(){n.accountOpenLoginForm()}),[n]),s=c.a.forwardRef((function(e,t){var a=e.onClick;return c.a.createElement("span",{className:"fc-header__user",ref:t,onClick:function(e){e.preventDefault(),a(e)}})})),l=function(){return c.a.createElement(le.b,{to:"".concat("/fizz-cult-app","/")},a("header.title"))},u=function(){return c.a.createElement(le.b,{to:"".concat("/fizz-cult-app","/about")},a("header.nav.about"))},E=function(){return c.a.createElement(le.b,{to:{pathname:"".concat("/fizz-cult-app","/account/login"),state:{background:t}},onClick:i},a("header.nav.login"))};return c.a.createElement("div",{className:"fc-header"},c.a.createElement("div",{className:"fc-header__content"},c.a.createElement("div",{className:"fc-header__title"},c.a.createElement(l,null)),c.a.createElement("div",{className:"fc-header__nav"},c.a.createElement("div",{className:"fc-header__nav-item"},c.a.createElement(u,null)),c.a.createElement("div",{className:"fc-header__nav-item"},c.a.createElement(Fe,{unauthenticated:c.a.createElement(E,null)},c.a.createElement(je.a,null,c.a.createElement(je.a.Toggle,{as:s}),c.a.createElement(je.a.Menu,null,c.a.createElement(je.a.Item,{onClick:o},"Log out"))))),c.a.createElement("div",{className:"fc-header__nav-item"},c.a.createElement(Pe,e)))))})),Ve=a(144);var Xe=function(e){var t=e.heading,a=e.text,n=e.image,r=e.children;return c.a.createElement("div",{className:"fc-jumbotron"},c.a.createElement("div",{className:"fc-jumbotron__container"},c.a.createElement("div",{className:"fc-jumbotron__text"},c.a.createElement("div",{className:"fc-jumbotron__text-heading"},t),c.a.createElement("div",{className:"fc-jumbotron__text-text"},a)),n&&c.a.createElement("div",{className:"fc-jumbotron__image"},c.a.createElement(Ve.a,{src:"/fizz-cult-app/images/"+n,fluid:!0})),c.a.createElement("div",{className:"fc-jumbotron__children"},r)))};var Me=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer__container"},c.a.createElement("div",{className:"footer__header"},"FizzCultApp"),c.a.createElement("div",{className:"footer__links"},c.a.createElement(le.b,null,"Privacy policy"),c.a.createElement(le.b,null,"Contact Us")),c.a.createElement("div",{className:"footer__social"},c.a.createElement("div",{className:"footer__social-item footer__social-item--twitter"}),c.a.createElement("div",{className:"footer__social-item footer__social-item--facebook"}),c.a.createElement("div",{className:"footer__social-item footer__social-item--instagram"}),c.a.createElement("div",{className:"footer__social-item footer__social-item--linkedin"})),c.a.createElement("div",{className:"footer__copyright"},"\xa9 2020 Igor, Inc. All Rights Reserved")))};function Qe(){var e=Object(se.g)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var qe=function(){return c.a.createElement("div",{className:"fc-loader"},c.a.createElement("div",{className:"fc-loader__header"}),c.a.createElement("div",{className:"fc-loader__body"},c.a.createElement("div",{className:"fc-loader__content"},c.a.createElement("span",{className:"fc-loader__spinner"}))),c.a.createElement("div",{className:"fc-loader__footer"}))};var Be=function(e){var t=Object(ve.a)().t,a=Object(se.f)(),n=e.exercises,r=e.routineId,o=e.actions;return c.a.createElement("div",{className:"exercises"},c.a.createElement(Xe,{heading:t("exercises.header.heading"),text:t("exercises.header.text"),image:"logo.png"},c.a.createElement(he.a,{variant:"secondary",onClick:function(){de();var e=n[0];e&&(o.startExercise(e),a.push("/fizz-cult-app"+"/routine/".concat(r,"/exercise/").concat(e.id)))}},t("exercises.header.button"))),c.a.createElement(we,{actions:o,exercises:n,routineId:r}))};var We=function(e){var t=e.routine,a=e.index,n=e.selectRoutine,r=Object(ve.a)(),o=r.t,i=r.i18n.language,s=function(){n(t.id)};return c.a.createElement(Ie.b,{draggableId:t.id.toString(),index:a},(function(e){return c.a.createElement("div",Object.assign({className:"routines-list__item",ref:e.innerRef},e.draggableProps,e.dragHandleProps),c.a.createElement("div",{className:"routines-list__item-container"},c.a.createElement("div",{className:"routines-list__item-image"},c.a.createElement(Ve.a,{src:"/fizz-cult-app/images/"+t.image.src,alt:t.image.alt,fluid:!0})),c.a.createElement("div",{className:"routines-list__item-text"},c.a.createElement("div",{className:"routines-list__item-name"},t.name[i]),c.a.createElement("div",{className:"routines-list__item-description"},t.description[i])),c.a.createElement("div",{className:"routines-list__item-button"},c.a.createElement(he.a,{variant:"primary",onClick:s},o("routines.routine.buttons.start")))))}))};var Ke=function(e){var t=e.actions,a=e.routines,n=Object(se.f)(),o=Object(ve.a)().t;Object(r.useEffect)((function(){t.requestRoutinesData()}),[t]);var i=function(e){t.orderRoutines(e)},s=function(e){n.push("/fizz-cult-app/routine/"+e)};return c.a.createElement("div",{className:"routines"},c.a.createElement(Xe,{heading:o("routines.header.heading"),text:o("routines.header.text"),image:"logo.png"},c.a.createElement(Fe,null,c.a.createElement("button",null,"Add a new routine"))),c.a.createElement(Ie.a,{onDragEnd:function(e){_e(e,a,i)}},c.a.createElement(Ie.c,{droppableId:"list"},(function(e){return c.a.createElement("div",Object.assign({className:"routines-list",ref:e.innerRef},e.droppableProps),a.map((function(e,t){return c.a.createElement(We,{routine:e,index:t,key:e.id,selectRoutine:s})})),e.placeholder)}))))};function He(e,t){if(!e.current)return null;if(t.findIndex((function(t){return t.id===e.current.id}))===t.length-1)return null;if("BREAK_EXERCISE"!==e.current.type)return D.breakExercise;var a=t.findIndex((function(t){return t.id===e.previous.id}));return t[a+1]}var Ze=Object(oe.b)((function(e,t){var a=e.exercise,n=e.exercises,r=Object(J.get)(t,"match.params.routineId");return{config:D,routineId:r,exercise:a.current,previousExercise:a.previous,nextExercise:He(a,n[r])}}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))((function(e){var t=e.exercise,a=e.nextExercise,n=e.actions,o=Object(r.useState)(Object(J.get)(t,"duration",30)),i=Object(me.a)(o,2),s=i[0],l=i[1],u=Object(r.useState)(!1),E=Object(me.a)(u,2),m=E[0],d=E[1],f=Object(r.useState)(!0),_=Object(me.a)(f,2),p=_[0],O=_[1],R=Object(se.f)(),v=Object(ve.a)().i18n.language,b=t?t.name[v]:"";be((function(){1===s&&m&&fe("beep.wav",S,2),s<6&&1!==s&&fe("beep.wav"),l(s-1)}),m&&s>0?1e3:null),Ce(b,(function(){O(!0),d(!1)}),(function(){setTimeout((function(){d(!0),O(!1)}),1e3)}));var C=Object(r.useCallback)((function(e){e?(d(!1),l(e.duration),n.startExercise(e)):(d(!1),n.finishExercise())}),[n]),S=Object(r.useCallback)((function(){C(a)}),[C,a]),g=Object(r.useCallback)((function(){C(t)}),[C,t]),N=Object(r.useCallback)((function(){d((function(e){return!e}))}),[]),h=function(){n.finishExercise(),R.push("".concat("/fizz-cult-app","/finished"))};return t?c.a.createElement("div",{className:"exercise"},c.a.createElement("div",{className:"exercise__header"},t.name[v],c.a.createElement("div",{className:"exercise__header-icon",onClick:h})),c.a.createElement("div",{className:"exercise__body"},c.a.createElement("div",{className:"exercise__image"},c.a.createElement("img",{src:"/fizz-cult-app/images/"+t.image,alt:t.image_alt})),c.a.createElement("div",{className:"exercise__timer"},c.a.createElement(Re.a,{value:s,minValue:"0",maxValue:t.duration,text:s,styles:Object(Re.b)({strokeLinecap:"butt",textSize:"20px",pathTransitionDuration:.5,pathColor:"#13a0c3",textColor:"#13a0c3",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})}))),c.a.createElement("div",{className:"exercise__footer"},c.a.createElement(Ne,{play:m,playCallback:N,nextCallback:S,previousCallback:g,disabled:p}))):(h(),null)})),Je=Object(oe.b)((function(e,t){var a=Object(J.get)(t,"match.params.routineId");return{routineId:a,exercises:Object(J.get)(e,["exercises",a],[])}}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))(Be),$e=Object(oe.b)((function(e){return{routines:e.routines}}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))(Ke),Ye=Object(oe.b)((function(e){return{user:e.user}}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))(De);var et=function(e){var t=e.actions,a=e.isLoading,n=e.error,r=e.notification;return c.a.createElement("div",{className:"fc-form"},c.a.createElement("div",{className:"fc-form__header"},"Sign In"),n&&c.a.createElement("div",{className:"fc-form__error"},n),r&&c.a.createElement("div",{className:"fc-form__notification"},r),c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target.checkValidity()){var a=new FormData(e.target);t.accountRequestLogin(a)}else console.warn("validation error")}},c.a.createElement("fieldset",{className:"fc-form__body",disabled:a},c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-email"},"Email",c.a.createElement("input",{className:"fc-form__input",id:"fc-email",name:"email",type:"email",required:!0})),c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-password"},"Password",c.a.createElement("input",{className:"fc-form__input",id:"fc-password",name:"password",type:"password",required:!0})),c.a.createElement("button",{type:"submit",className:"fc-form__button"},c.a.createElement("span",{className:"fc-form__button-text"},a?c.a.createElement("span",null,"Loading",c.a.createElement("span",{className:"dot-loader"})):"Sign in")),c.a.createElement("p",{className:"fc-form__sign-up"},"Don't have an account?",c.a.createElement("span",{className:"fc-form__sign-up-here",onClick:function(){t.accountOpenRegisterForm()}},"Create one here!")),c.a.createElement("p",{className:"fc-form__reminder",onClick:function(){t.accountOpenPasswordResetForm()}},"Forgot password?"))))},tt=a(145),at=function(e){var t=e.actions,a=e.isLoading,n=e.error,r=e.notification;return c.a.createElement("div",{className:"fc-form"},c.a.createElement("div",{className:"fc-form__header"},"Register a new user"),n&&c.a.createElement("div",{className:"fc-form__error"},n),r&&c.a.createElement("div",{className:"fc-form__notification"},r),c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target.checkValidity()){var a=new FormData(e.target);t.accountRequestRegister(a)}else console.warn("validation error")}},c.a.createElement("fieldset",{className:"fc-form__body",disabled:a},c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-name"},"Name",c.a.createElement("input",{className:"fc-form__input",id:"fc-name",name:"name",type:"text",required:!0})),c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-email"},"Email",c.a.createElement("input",{className:"fc-form__input",id:"fc-email",name:"email",type:"email",required:!0})),c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-password"},c.a.createElement("span",{className:"fc-form__label-text"},"Password",c.a.createElement(ke.a,{placement:"bottom",overlay:function(e){return c.a.createElement(tt.a,e,"Password must be at least 8 characters long, have upper and lower case letters and numbers")}},c.a.createElement("span",{className:"fc-form__password-info"}))),c.a.createElement("input",{className:"fc-form__input",id:"fc-password",name:"password",type:"password",required:!0,pattern:"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,32}$"})),c.a.createElement("button",{type:"submit",className:"fc-form__button"},c.a.createElement("span",{className:"fc-form__button-text"},a?c.a.createElement("span",null,"Loading",c.a.createElement("span",{className:"dot-loader"})):"Register")),c.a.createElement("p",{className:"fc-form__sign-up"},"Already have an account?",c.a.createElement("span",{className:"fc-form__sign-up-here",onClick:function(){t.accountOpenLoginForm()}},"Sign in here!")))))},nt=function(e){var t=e.actions,a=e.isLoading,n=e.error,r=e.notification;return c.a.createElement("div",{className:"fc-form"},c.a.createElement("div",{className:"fc-form__header"},"Enter your email to reset the password"),n&&c.a.createElement("div",{className:"fc-form__error"},n),r&&c.a.createElement("div",{className:"fc-form__notification"},r),c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target.checkValidity()){var a=new FormData(e.target);t.accountRequestPasswordReset(a)}else console.warn("validation error")}},c.a.createElement("fieldset",{className:"fc-form__body",disabled:a},c.a.createElement("label",{className:"fc-form__label",htmlFor:"fc-email"},"Email",c.a.createElement("input",{className:"fc-form__input",id:"fc-email",name:"email",type:"email",required:!0})),c.a.createElement("button",{type:"submit",className:"fc-form__button"},c.a.createElement("span",{className:"fc-form__button-text"},a?c.a.createElement("span",null,"Loading",c.a.createElement("span",{className:"dot-loader"})):"Reset")),c.a.createElement("p",{className:"fc-form__sign-up"},"Don't have an account?",c.a.createElement("span",{className:"fc-form__sign-up-here",onClick:function(){t.accountOpenRegisterForm()}},"Create one here!")),c.a.createElement("p",{className:"fc-form__sign-up"},"Remembered the password?",c.a.createElement("span",{className:"fc-form__sign-up-here",onClick:function(){t.accountOpenLoginForm()}},"Sign in here!")))))},rt=function(e){var t=e.openLogin,a=e.openRegister,n=e.openReset,o=e.closeModalCallback;return Object(r.useEffect)((function(){t||a||n||o()}),[t,a,n,o]),c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(et,e),a&&c.a.createElement(at,e),n&&c.a.createElement(nt,e))},ct=Object(oe.b)((function(e,t){var a=e.account;return Object(f.a)(Object(f.a)({},a),{},{closeModalCallback:t.closeModal})}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))(rt);var ot=function(e){var t=e.subroute,a=Object(se.f)(),n=Object(r.useCallback)((function(){a.goBack()}),[a]);return i.a.createPortal(c.a.createElement("div",{className:"fc-modal__wrapper",onClick:n},c.a.createElement("div",{className:"fc-modal",onClick:function(e){e.stopPropagation()}},c.a.createElement("div",{className:"fc-modal__close",onClick:n}),c.a.createElement("div",{className:"fc-modal__container"},c.a.createElement("div",{className:"fc-modal__header"}),c.a.createElement("div",{className:"fc-modal__body"},t===F&&c.a.createElement(ct,{closeModal:n}))))),document.querySelector("#modal"))},it=Object(oe.b)((function(e,t){var a=Object(J.get)(t,"match.params.subroute");return{config:D,subroute:a}}),(function(e){return{actions:Object(s.bindActionCreators)(n,e)}}))(ot);var st=function(){var e=Object(se.f)(),t=Object(ve.a)().t;return c.a.createElement("div",{className:"exercise-finished"},c.a.createElement("div",{className:"exercise-finished__header"},t("exercises.exercise.finished.header")),c.a.createElement("div",{className:"exercise-finished__body"},t("exercises.exercise.finished.body")),c.a.createElement("div",{className:"exercise-finished__footer"},c.a.createElement(he.a,{onClick:function(){e.push("".concat("/fizz-cult-app","/"))}},t("exercises.exercise.finished.button"))))},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[H,l.a],a=s.applyMiddleware.apply(void 0,t),n=Object(u.composeWithDevTools)(a),r=Object(s.createStore)(ce,e,n),c=Object(E.b)(r);return{store:r,persistor:c}}(),ut=lt.store,Et=lt.persistor;function mt(){var e=Object(se.g)(),t=e.state&&e.state.background;return c.a.createElement("div",{className:"body"},c.a.createElement(se.c,{location:t||e},c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/routine/:routineId",component:Je}),c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/routine/:routineId/exercise/:exerciseId",component:Ze}),c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/finished",component:st}),c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/account/login",component:$e}),c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/",component:$e}),c.a.createElement(se.a,{path:"*",component:function(){return c.a.createElement("div",{className:"fc-404"},c.a.createElement("h3",null,"404 page not found"),c.a.createElement("p",null,"We are sorry but the page you are looking for does not exist."))}})),t&&c.a.createElement(se.a,{exact:!0,path:"/fizz-cult-app/account/:subroute",component:it}))}i.a.render(c.a.createElement(oe.a,{store:ut},c.a.createElement(ie.a,{loading:null,persistor:Et},c.a.createElement(le.a,{onUpdate:function(){return window.scrollTo(0,0)}},c.a.createElement(r.Suspense,{fallback:c.a.createElement(qe,null)},c.a.createElement(Ye,null),c.a.createElement(Qe,null),c.a.createElement(mt,null),c.a.createElement(Me,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){e.exports=a(137)}},[[92,1,2]]]);
//# sourceMappingURL=main.6e68db0c.chunk.js.map